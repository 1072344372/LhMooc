<!-- 头部开始 -->
<div class="header">
    <div class="wrapper">
        <!-- 头部左侧logo -->
        <a href="../images/logo.png">
            <img src="../images/logo.png" alt="中国铁路12306" title="中国铁路12306" class="logo">
        </a>
        <!-- 头部右侧 -->
        <div class="header-right">
            <!-- 搜索条 -->
            <div class="header-search" style="width: 380px">
                <div class="search-bd" style="width: 350px">
                    <!-- <input type="password" value="" style="display: none"> -->
                    <input type="text" class="search-input" id="search-input" aria-label="搜索车票、餐饮、常旅客、相关规章" value=""
                        auto-complete="new-password" placeholder="搜索...." aria-haspopup="true">
                    <a class="search-btn" href="javascript:;" aria-label="点击搜索，搜索结果页面可能超出无障碍服务范围">
                        <i class="icon icon-search"></i>
                    </a>
                    <!-- 搜索提示 -->
                    <!-- <div class="search-down">
                        <a href="javascript:;" class="close">关闭</a>
                        <ul class="search-down-list" role="listbox" aria-expanded="true"></ul>
                    </div> -->
                    <!-- 搜索历史 -->
                    <!-- <div class="search-history">
                        <a href="javascript:;" class="history-clear">清除</a>
                        <h3 class="search-history-tit">搜索历史</h3>
                        <ul class="search-history-list" role="listbox" aria-expanded="true"></ul>
                    </div> -->
                </div>
            </div>
            <!-- 右侧菜单 -->
            <ul class="header-menu" role="menubar" id="topMenu">
                <li class="menu-item">
                    <a onclick="window.parent.location.href = '../views/userView/shoppingCart.html';" target="_parent">购物车
                    </a>
                </li>
                <li class="menu-item menu-line">|</li>
                <li class="menu-item">
                    <a onclick="window.parent.location.href = '../views/userView/order.html';" target="_parent">订单</a>
                </li>
                <li class="menu-item menu-line">|</li>
                <li class="menu-item menu-nav" role="menuitem">
                    <a data-href="view/index.html" name="g_href" data-type="2" data-redirect="Y" aria-expanded="true"
                        aria-haspopup="true" aria-controls="megamenu-2" href="javascript:;" class="menu-nav-hd item"
                        id="my12306">个人中心
                        <i class="caret"></i>
                    </a>
                </li>
                <li class="menu-item menu-line">|</li>
                <li id="J-header-login" class="menu-item menu-login" role="menuitem">
                    <a onclick="window.parent.location.href = '../login.html';" target="_parent">登录</a>
                    <a onclick="window.parent.location.href = '../register.html';" target="_parent">注册</a>
                </li>
                <li id="J-header-logout" style="display: none" class="menu-item menu-nav menu-login" role="menuitem">
                    您好，<a name="g_href" data-type="2" data-href="view/index.html" data-redirect="Y" href="javascript:;"
                        class="txt-primary menu-nav-my-hd">
                    </a>&nbsp;|&nbsp;<a class="logout" href="javascript:;" onclick="logout()">退出</a>
                </li>
            </ul>
        </div>
    </div>
</div>
<!-- 头部结束 -->
<style>
    @import url('../css/base.css');

    a {
        color: black;
    }
    .header .logo{
            width: 120px;
    }
    .header {
        height: 80px;
        padding: 15px 0 0 20%;
    }

    .header .wrapper {
        display: flex;
    }

    .header p {
        font-size: 20px;
        text-align: center;
        margin: 14px 0 0 25px;
    }

    .header-right {
        /* background: url("https://www.12306.cn/index/images/festival2024/train.png"); */
        background-repeat: no-repeat;
        height: 40px;
        margin-left: 20px;
        margin-top: 10px;
        padding: 6px 0px 0px 90px;
        display: flex;
    }

    .header-right::after {
        position: absolute;
        content: "";
        /* background: url("https://www.12306.cn/index/images/festival2024/train.png"); */
        background-repeat: no-repeat;
        width: 100%;
        /* 限制最大宽度不超出屏幕 */
        max-width: calc(100vw - 1210px);
        height: 40px;
        top: 25px;
        left: 1200px;
        z-index: -1;
    }

    .search-input {
        width: 350px;
        height: 30px;
    }

    .header-menu,
    .search-bd {
        display: flex;
    }

    .search-btn::after {
        content: "";
        display: inline-block;
        width: 30px;
        height: 30px;
        background-image: url('https://lhwaimai.oss-cn-beijing.aliyuncs.com/logo/logo.jpg');
        /* 图标适应大小 */
        background-size: contain;
        /* 避免图标重复 */
        background-repeat: no-repeat;
    }
</style>
<script>
    window.onload = function () {
        var userName = sessionStorage.getItem("userName");
        // 根据用户名是否存在来显示不同的内容
        if (userName) {
            // 用户已登录，显示用户信息和退出登录链接
            document.getElementById("J-header-login").style.display = "none"; // 隐藏登录和注册链接
            document.getElementById("J-header-logout").style.display = "block"; // 显示退出登录链接
            document.querySelector(".menu-nav-my-hd").innerText = userName;
        } else {
            // 用户未登录，显示登录和注册链接
            document.getElementById("J-header-login").style.display = "block"; // 显示登录和注册链接
            document.getElementById("J-header-logout").style.display = "none"; // 隐藏退出登录链接
        }
    }
    function logout() {
        sessionStorage.removeItem("userName");
        location.reload();
    }
</script>